<!DOCTYPE html>

{% extends 'base.html' %}
{% load static %}
{% block header %}
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

  <title>Pricing | PDF CAKE</title>

  <meta name="description" content="" />

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="{% static 'assets/img/favicon/favicon.ico' %}" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" type="text/css" />

  <!-- Icons -->
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/fonts/materialdesignicons.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/fonts/fontawesome.css' %}" />
  <!-- Menu waves for no-customizer fix -->
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/libs/node-waves/node-waves.css' %}" />

  <!-- Core CSS -->
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/css/rtl/core.css' %}" class="template-customizer-core-css" />
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/css/rtl/theme-default.css' %}" class="template-customizer-theme-css" />
  <link rel="stylesheet" type="text/css" href="{% static 'assets/css/demo.css' %}" />

  <!-- Vendors CSS -->
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/libs/typeahead-js/typeahead.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/libs/select2/select2.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/libs/formvalidation/dist/css/formValidation.min.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/libs/animate-css/animate.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/libs/sweetalert2/sweetalert2.css' %}" />

  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/libs/datatables-bs5/datatables.bootstrap5.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/libs/datatables-responsive-bs5/responsive.bootstrap5.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/libs/datatables-checkboxes-jquery/datatables.checkboxes.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/libs/datatables-buttons-bs5/buttons.bootstrap5.css' %}" />

  <!-- Page CSS -->

  <!-- Helpers -->
  <script src="{% static 'assets/vendor/js/helpers.js' %}"></script>

  <!-- ! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
  <!-- ? Template customizer: To hide customizer set displayCustomizer value false in config.js. -->
  <script src="{% static 'assets/vendor/js/template-customizer.js' %}"></script>
  <!-- ? Config: Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file. -->
  <script src="{% static 'assets/js/config.js' %}"></script>

  <style>
    .hide{
      visibility: hidden;
    }
  </style>

  <!-- Twitter conversion tracking event code -->
  <script type="text/javascript">
    // Insert Twitter Event ID
    twq('event', 'tw-oi3qz-oi3r7', {
      value: null // use this to pass the value of the conversion (e.g. 5.00)
    });
  </script>
  <!-- End Twitter conversion tracking event code -->
{% endblock %}

{% block body %}
  <!-- Layout wrapper -->
  <div class="app-email card">
    <div class="border-0">
      <div class="p-2 p-md-5">
        <div class="py-3 py-md-0">
          <!-- Pricing Plans -->
          <div class="pb-3 rounded-top">
            <h3 class="text-center mb-2">Subscription Plan</h3>
            <p class="text-center pt-1 mb-0">Saves hours a day reading PDF files, just a little investment to 10X your productivity. Choose the best plan to fit your needs.</p>
            {% comment %} <div class="d-flex align-items-center justify-content-center flex-wrap gap-2 py-3 mb-0 mb-md-3">
              <label class="switch switch-primary me-0">
                <span class="switch-label">Monthly</span>
                <input type="checkbox" class="switch-input price-duration-toggler" id="plan-toggle" />
                <span class="switch-toggle-slider">
                  <span class="switch-on"></span>
                  <span class="switch-off"></span>
                </span>
                <span class="switch-label">Annual</span>
              </label>
            </div> {% endcomment %}

            <div class="row mx-0 gy-3">
              <!-- Basic -->
              <div class="col-xl col-lg-3 col-md-6 mb-md-0 mb-4 sm-6">
                <div class="card border rounded shadow-none">
                  <div class="card-body">
                    {% comment %} <div class="my-3 pt-2 text-center">
                      <img src="{% static 'assets/img/illustrations/pricing-basic.png' %}" alt="Basic Image" height="100" />
                    </div> {% endcomment %}
                    <h4 class="card-title fw-medium text-center text-capitalize mb-1 pt-1">Hobby</h4>
                    {% comment %} <p class="text-center mb-2">A simple start for everyone</p> {% endcomment %}
                    <div class="text-center">
                      <div class="d-flex justify-content-center">
                        <sup class="h6 pricing-currency mt-3 mb-0 me-1 fw-normal">$</sup>
                        <h1 class="fw-medium display-3 mb-0 text-primary">0</h1>
                        <sub class="h6 pricing-duration mt-auto mb-2 fw-normal">/month</sub>
                      </div>
                    </div>

                    <ul class="ps-3 my-4 pt-3">
                      <li class="mb-1">Monthly upload limit 1</li>
                      <li class="mb-1">Monthly questions limit 500</li>
                      <li class="mb-1">Max file size 10MB</li>
                      <li class="mb-1">OCR support</li>
                    </ul>
                    {% if user.is_authenticated  %}
                    <span class="btn {% if current_plan == 0 %} btn-outline-success {% else  %} btn-primary {% endif %} d-grid w-100 {% if current_plan > 0 %} hide {% endif  %}" >Current</span>
                    {% endif %}
                  </div>
                </div>
              </div>

              <!-- Standard -->
              <div class="col-xl col-lg-3 col-md-6 mb-md-0 mb-4 sm-6">
                <div class="card border shadow-none">
                  <div class="card-body position-relative">
                    {% comment %} <div class="position-absolute end-0 me-4 top-0 mt-4">
                      <span class="badge bg-label-primary rounded-pill">Pro</span>
                    </div> {% endcomment %}
                    {% comment %} <div class="my-3 pt-2 text-center">
                      <img src="{% static 'assets/img/illustrations/pricing-standard.png' %}" alt="Pro Image" height="100" />
                    </div> {% endcomment %}
                    <h4 class="card-title fw-medium text-center text-capitalize mb-1 pt-1">Pro</h4>
                    {% comment %} <p class="text-center mb-2">For small to medium businesses</p> {% endcomment %}
                    <div class="text-center">
                      <div class="d-flex justify-content-center">
                        <sup class="h6 pricing-currency mt-3 mb-0 me-1">$</sup>
                        <h1 class="price-toggle price-yearly fw-semibold display-3 text-primary mb-0">4.99</h1>
                        <sub class="h6 pricing-duration mt-auto mb-2 fw-normal">/month</sub>
                      </div>
                      <small class="price-yearly price-yearly-toggle">$ <span>59.88</span> / year</small>
                    </div>

                    <ul class="ps-3 mb-4 pt-3">
                      <li class="mb-1">Monthly upload limit 100</li>
                      <li class="mb-1">Monthly questions limit 5000</li>
                      <li class="mb-1">Max file size 50MB</li>
                      <li class="mb-1">OCR support</li>
                    </ul>
                    {% if user.is_authenticated  %}
                    <span onclick="upgrade(1)" class="btn {% if current_plan == 1 %} btn-outline-success {% else  %} btn-primary {% endif %} d-grid w-100 {% if current_plan > 1 %} hide {% endif  %}">{% if current_plan == 1 %} Current {% else  %} Upgrade {% endif %}</span>
                    {% endif %}
                  </div>
                </div>
              </div>

              <!-- Ultimate -->
              <div class="col-xl col-lg-3 col-md-6 mb-md-0 mb-4 sm-6">
                <div class="card border-primary border shadow-none">
                  <div class="card-body position-relative">
                    <div class="position-absolute end-0 me-1 top-0 mt-1">
                      <span class="badge bg-label-primary rounded-pill">Popular</span>
                    </div>
                    {% comment %} <div class="my-3 pt-2 text-center">
                      <img src="{% static 'assets/img/illustrations/pricing-standard.png' %}" alt="Pro Image" height="100" />
                    </div> {% endcomment %}
                    <h4 class="card-title fw-medium text-center text-capitalize mb-1 pt-1">Ultimate</h4>
                    {% comment %} <p class="text-center mb-2">For small to medium businesses</p> {% endcomment %}
                    <div class="text-center">
                      <div class="d-flex justify-content-center">
                        <sup class="h6 pricing-currency mt-3 mb-0 me-1">$</sup>
                        <h1 class="price-toggle price-yearly fw-semibold display-3 text-primary mb-0">13.99</h1>
                        <sub class="h6 pricing-duration mt-auto mb-2 fw-normal">/month</sub>
                      </div>
                      <small class="price-yearly price-yearly-toggle">$ <span>167.88</span> / year</small>
                    </div>

                    <ul class="ps-3 mb-4 pt-3">
                      <li class="mb-1">Monthly upload unlimited</li>
                      <li class="mb-1">Monthly questions unlimited</li>
                      <li class="mb-1">Max file size 50MB</li>
                      <li class="mb-1">OCR support</li>
                    </ul>
                    {% if user.is_authenticated  %}
                    <span onclick="upgrade(2)" class="btn {% if current_plan == 2 %} btn-outline-success {% else  %} btn-primary {% endif %} d-grid w-100 {% if current_plan > 2 %} hide {% endif  %}">{% if current_plan == 2 %} Current {% else  %} Upgrade {% endif %}</span>
                    {% endif %}
                  </div>
                </div>
              </div>

              <!-- Enterprise -->
              <div class="col-xl col-lg-3 col-md-6 sm-6">
                <div class="card border rounded shadow-none">
                  <div class="card-body">
                    {% comment %} <div class="my-3 pt-2 text-center">
                      <img src="{% static 'assets/img/illustrations/pricing-enterprise.png' %}" alt="Enterprise Image" height="100" />
                    </div> {% endcomment %}
                    <h4 class="card-title text-center text-capitalize fw-medium mb-1 pt-1">Enterprise</h4>
                    {% comment %} <p class="text-center mb-2">Solution for big organizations</p> {% endcomment %}

                    <div class="text-center">
                      <div class="d-flex justify-content-center">
                        <sup class="h6 pricing-currency mt-3 mb-0 me-1">$</sup>
                        <h1 class="price-toggle price-yearly fw-semibold display-3 text-primary mb-0">22.99</h1>
                        <sub class="h6 pricing-duration mt-auto mb-2 fw-normal">/month</sub>
                      </div>
                      <small class="price-yearly price-yearly-toggle">$ <span>275.88</span> / year</small>
                    </div>

                    <ul class="ps-3 mb-4 pt-3">
                      <li class="mb-1">Monthly upload unlimited</li>
                      <li class="mb-1">Monthly questions unlimited</li>
                      <li class="mb-1">Max file size 100MB</li>
                      <li class="mb-1">OCR support</li>
                    </ul>
                    
                    {% if user.is_authenticated  %}
                      <span onclick="upgrade(3)" class="btn {% if current_plan == 3 %} btn-outline-success {% else  %} btn-primary {% endif %} d-grid w-100">{% if current_plan == 3 %} Current {% else  %} Upgrade {% endif %}</span>
                    {% endif %}
                      
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- / Pricing Plans -->
          <div class="text-center">
            {% comment %} <p>Still Not Convinced? Start with a 14-day FREE trial!</p> {% endcomment %}
            <a href="/documents" class="btn btn-primary">
            {% if user.is_authenticated  %}
            Get Started
            {% else %}
            Log in 
            {% endif %}
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- / Layout wrapper -->
{% endblock %}
{% block script %}
  <!-- Core JS -->
  <!-- build:js assets/vendor/js/core.js -->
  <script src="{% static 'assets/vendor/libs/jquery/jquery.js' %}"></script>
  <script src="{% static 'assets/vendor/libs/popper/popper.js' %}"></script>
  <script src="{% static 'assets/vendor/js/bootstrap.js' %}"></script>
  <script src="{% static 'assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js' %}"></script>
  <script src="{% static 'assets/vendor/libs/node-waves/node-waves.js' %}"></script>
  <script src="{% static 'assets/vendor/libs/hammer/hammer.js' %}"></script>
  <script src="{% static 'assets/vendor/libs/i18n/i18n.js' %}"></script>
  <script src="{% static 'assets/vendor/libs/typeahead-js/typeahead.js' %}"></script>
  <script src="{% static 'assets/vendor/js/menu.js' %}"></script>
  <!-- endbuild -->

  <!-- Vendors JS -->
  <script src="{% static 'assets/vendor/libs/select2/select2.js' %}"></script>
  <script src="{% static 'assets/vendor/libs/formvalidation/dist/js/FormValidation.min.js' %}"></script>
  <script src="{% static 'assets/vendor/libs/formvalidation/dist/js/plugins/Bootstrap5.min.js' %}"></script>
  <script src="{% static 'assets/vendor/libs/formvalidation/dist/js/plugins/AutoFocus.min.js' %}"></script>
  <script src="{% static 'assets/vendor/libs/cleavejs/cleave.js' %}"></script>
  <script src="{% static 'assets/vendor/libs/cleavejs/cleave-phone.js' %}"></script>
  <script src="{% static 'assets/vendor/libs/sweetalert2/sweetalert2.js' %}"></script>

  <script src="{% static 'assets/vendor/libs/moment/moment.js' %}"></script>
  <script src="{% static 'assets/vendor/libs/datatables-bs5/datatables-bootstrap5.js' %}"></script>

  <!-- Main JS -->
  <script src="{% static 'assets/js/main.js' %}"></script>

  <!-- Page JS -->
  <script src="{% static 'assets/js/pages-account-settings-billing.js' %}"></script>
  <script src="{% static 'assets/js/app-invoice-list.js' %}"></script>

  <script>
    let planType = false
    const planToggle = document.querySelector('#plan-toggle')
    const pricesYearly = document.querySelectorAll('.price-yearly-toggle span')
    const pricesMonthly = document.querySelectorAll('.price-toggle')
     /*planToggle.addEventListener('change', (e) => {
      planType = !planType
      if (planType) {
        pricesYearly[0].innerHTML = 120
        pricesYearly[1].innerHTML = 240
        pricesYearly[2].innerHTML = 360
        pricesMonthly[0].innerHTML = 10
        pricesMonthly[1].innerHTML = 20
        pricesMonthly[2].innerHTML = 30
      } else {
        pricesYearly[0].innerHTML = 180
        pricesYearly[1].innerHTML = 300
        pricesYearly[2].innerHTML = 420
        pricesMonthly[0].innerHTML = 15
        pricesMonthly[1].innerHTML = 25
        pricesMonthly[2].innerHTML = 35
      }
    })*/
    
    const upgrade_test = (level = 0) => {
      if (level === 0) return
      const paymentLinksMonthly = [
        'https://buy.stripe.com/test_28o9CA9W71QlenmeUU?prefilled_email={{email}}', 
        'https://buy.stripe.com/test_6oE164gkv3Yt2EE7st?prefilled_email={{email}}', 
        'https://buy.stripe.com/test_cN29CAgkv52xgvu7su?prefilled_email={{email}}']
      const paymentLinksAnnual = [
        'https://buy.stripe.com/test_eVaeWU5FReD7932aEI?prefilled_email={{email}}', 
        'https://buy.stripe.com/test_cN2g0Y8S3dz3frq5kp?prefilled_email={{email}}', 
        'https://buy.stripe.com/test_aEUeWU0lx7aFfrq14a?prefilled_email={{email}}']
      window.location.href = planType ? paymentLinksAnnual[level - 1] : paymentLinksMonthly[level - 1]
    }
    const test = false
    const upgrade = (level = 0) => {
      level = parseInt(level)
      current_plan = parseInt("{{current_plan}}")
      if(level <= current_plan)
        return
      if (test) {
        upgrade_test(level)
        return
      }
      if (level != 1 && level != 2 && level != 3) return
      const paymentLinksMonthly = [
        'https://buy.stripe.com/cN23ducU192Ebtu7sB?prefilled_email={{email}}',
        'https://buy.stripe.com/7sI15maLTa6I1SUbIS?prefilled_email={{email}}',
        'https://buy.stripe.com/9AQ01i2fn92Eapq28j?prefilled_email={{email}}']
      const paymentLinksAnnual = [
        'https://buy.stripe.com/3cs4hy6vDemY0OQ3cg?prefilled_email={{email}}',
        'https://buy.stripe.com/eVadS807fdiUapq8wB?prefilled_email={{email}}',
        'https://buy.stripe.com/7sI3du1bjceQfJK7sy?prefilled_email={{email}}']
      window.location.href = planType ? paymentLinksAnnual[level - 1] : paymentLinksMonthly[level - 1]
    }
  </script>
{% endblock %}
